---
layout: post
title: The dreaded scaling word
categories:
- Personal
tags: []
status: publish
type: post
published: true
meta:
  _publicize_pending: '1'
  _wpas_done_1463635: '1'
  publicize_twitter_user: Chrismatheson
  _wpas_done_1463634: '1'
  _publicize_done_external: a:1:{s:7:"twitter";a:1:{i:35538233;b:1;}}
  _wpas_skip_1463634: '1'
  _wpas_skip_1463635: '1'
  _elasticsearch_indexed_on: '2012-11-13 14:28:53'
---
As part of UOS online lessons need to be able to upload small sound clips from the client to the server. These clips are aprox 300k in size and can be sent a received reasonably quickly. So some Node.JS later i have a serve which will receive and server sound clips. Happy days.
<p style="text-align:center;"><img id="i-987" class=" wp-image aligncenter" alt="Image" src="http://chrismatheson.files.wordpress.com/2012/11/woohoohomer1.jpg?w=504" height="245" width="302" /></p>
Anyone would think that the hard part is over as i have got the functionality i need up and running. but this is the internet and Im going to have to think about what happens when several users are pushing data back and forth to the server and how that will impact on storage space on my server and traffic. each of which will have there very real world costs from a hosting company.

<img id="i-988" class="size-full wp-image" alt="Image" src="http://chrismatheson.files.wordpress.com/2012/11/screenshot-2012-11-13_14-05-31.png?w=580" height="182" width="580" /><img id="i-989" class=" wp-image" alt="Image" src="http://chrismatheson.files.wordpress.com/2012/11/screenshot-2012-11-13_14-05-24.png?w=486" height="202" width="292" />

For now I'm not even thinking about traffic costs but purely storage.

Each user must complete 150 reading lessons with an average of lets say 3 blocks of 5 words per lesson. so over the entive course the user will upload 300k * 5 * 3 * 150 =  675Mbytes of data. The average course takes a year so roughly 675 / 365 = 1.8 ish Mb a day. (this is spreading out the load over all days even though a large number of days will be zero traffic, holidays etc)

although they will upload 675 Mb of data we will only be holding a window of say 20Mb of data per student so:
<p style="text-align:center;">Traffic -- 1.8Mb/day/user</p>
<p style="text-align:center;">Storage -- 20Mb/user</p>
with roughly 5000 active users of UOS we could maybe expect a 5th of these to convert to online in the next year, so:
<p style="text-align:center;">Traffic -- 1.8Gb/day</p>
<p style="text-align:center;">Storage -- 20Gb</p>
<p style="text-align:left;">This is starting to look dangerous, what happens when we catch up with users all online and even grow the total users to say 10000?</p>
<p style="text-align:center;">Traffic -- 540Gb/month</p>
<p style="text-align:center;">Storage -- 200Gb</p>
<p style="text-align:left;">this just shows how a relitively small ammount of code pushed over the network and stored on a server ver soon adds up when you start thinking about users in the thousands.</p>
